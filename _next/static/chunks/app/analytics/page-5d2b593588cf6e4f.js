(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{8954:function(e,t,s){Promise.resolve().then(s.bind(s,7987))},7987:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(6829),l=s(3149);let n=(0,l.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),r=(0,l.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),i=(0,l.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),c=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),o=(0,l.Z)("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);var d=s(7873),h=s(2911);function m(e){let{title:t,value:s,change:l,icon:r}=e;return(0,a.jsx)("div",{className:"rounded-lg border bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,a.jsx)("p",{className:"mt-2 text-3xl font-bold",children:s}),l&&(0,a.jsxs)("p",{className:"mt-1 text-sm text-green-600",children:[(0,a.jsx)(n,{className:"inline h-4 w-4"})," ",l]})]}),(0,a.jsx)("div",{className:"rounded-full bg-blue-100 p-3 text-blue-600",children:r})]})})}function x(){let{metrics:e,loading:t,error:s}=function(){let[e,t]=(0,h.useState)({pageViews:0,uniqueVisitors:0,linkClicks:0,resumeDownloads:0}),[s,a]=(0,h.useState)(!0),[l,n]=(0,h.useState)(null);return(0,h.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat("http://localhost:3001","/api/analytics/metrics"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch metrics: ".concat(e.status));let s=await e.json();t(s),n(null)}catch(e){t({pageViews:1234,uniqueVisitors:567,linkClicks:89,resumeDownloads:45}),n("API unavailable - showing placeholder data")}finally{a(!1)}};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]),{metrics:e,loading:s,error:l}}(),{events:l,loading:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,[t,s]=(0,h.useState)([]),[a,l]=(0,h.useState)(!0),[n,r]=(0,h.useState)(null);return(0,h.useEffect)(()=>{let t=async()=>{try{let t=await fetch("".concat("http://localhost:3001","/api/analytics/events?limit=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch events: ".concat(t.status));let a=await t.json();s(a.events||[]),r(null)}catch(e){s([]),r("API unavailable")}finally{l(!1)}};t();let a=setInterval(t,1e4);return()=>clearInterval(a)},[e]),{events:t,loading:a,error:n}}(10);return(0,a.jsx)("div",{className:"min-h-screen px-4 py-8 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"mb-2 text-3xl font-bold md:text-4xl",children:"Analytics Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Track visitor engagement and portfolio performance metrics",s&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-amber-600",children:["(",s,")"]})]})]}),t?(0,a.jsx)("div",{className:"mb-8 flex items-center justify-center py-12",children:(0,a.jsx)(r,{className:"h-8 w-8 animate-spin text-blue-600"})}):(0,a.jsxs)("div",{className:"mb-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(m,{title:"Page Views",value:e.pageViews.toLocaleString(),change:"+12% from last month",icon:(0,a.jsx)(i,{className:"h-6 w-6"})}),(0,a.jsx)(m,{title:"Unique Visitors",value:e.uniqueVisitors.toLocaleString(),change:"+8% from last month",icon:(0,a.jsx)(c,{className:"h-6 w-6"})}),(0,a.jsx)(m,{title:"Link Clicks",value:e.linkClicks.toLocaleString(),change:"+15% from last month",icon:(0,a.jsx)(o,{className:"h-6 w-6"})}),(0,a.jsx)(m,{title:"Resume Downloads",value:e.resumeDownloads.toLocaleString(),change:"+20% from last month",icon:(0,a.jsx)(d.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Page Views Over Time"}),(0,a.jsx)("div",{className:"flex h-64 items-center justify-center rounded bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)(i,{className:"mx-auto mb-2 h-12 w-12"}),(0,a.jsx)("p",{className:"text-sm",children:"Chart Component Placeholder"}),(0,a.jsx)("p",{className:"mt-1 text-xs",children:"Integrate with Recharts, Chart.js, or Nivo"})]})})]}),(0,a.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Top Clicked Links"}),(0,a.jsx)("div",{className:"flex h-64 items-center justify-center rounded bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)(o,{className:"mx-auto mb-2 h-12 w-12"}),(0,a.jsx)("p",{className:"text-sm",children:"Chart Component Placeholder"}),(0,a.jsx)("p",{className:"mt-1 text-xs",children:"Display top 5 most clicked contact links"})]})})]})]}),(0,a.jsxs)("div",{className:"mt-8 rounded-lg border border-blue-200 bg-blue-50 p-6",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-semibold text-blue-900",children:"Data Integration Guide"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Step 1:"})," Configure your analytics endpoint in"," ",(0,a.jsx)("code",{className:"rounded bg-blue-100 px-2 py-1",children:"src/lib/analytics.ts"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Step 2:"})," Set up data collection backend (Google Sheets API, custom API, etc.)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Step 3:"})," Create API route at"," ",(0,a.jsx)("code",{className:"rounded bg-blue-100 px-2 py-1",children:"src/app/api/analytics/route.ts"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Step 4:"})," Fetch data in this component using"," ",(0,a.jsx)("code",{className:"rounded bg-blue-100 px-2 py-1",children:"useEffect"})," ","and update state"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Step 5:"})," Install chart library:"," ",(0,a.jsx)("code",{className:"rounded bg-blue-100 px-2 py-1",children:"npm install recharts"})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("a",{href:"/docs/agent-log",className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"View Analytics Documentation â†’"})})]}),(0,a.jsxs)("div",{className:"mt-8 rounded-lg border bg-white p-6 shadow-sm",children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Recent Events"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,a.jsx)("thead",{className:"border-b bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 font-medium",children:"Event Type"}),(0,a.jsx)("th",{className:"px-4 py-3 font-medium",children:"Timestamp"}),(0,a.jsx)("th",{className:"px-4 py-3 font-medium",children:"Details"})]})}),(0,a.jsx)("tbody",{children:n?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-4 py-8 text-center",colSpan:3,children:(0,a.jsx)(r,{className:"mx-auto h-6 w-6 animate-spin text-blue-600"})})}):0===l.length?(0,a.jsx)("tr",{className:"border-b",children:(0,a.jsx)("td",{className:"px-4 py-3 text-gray-500",colSpan:3,children:"No events recorded yet. Start browsing to see analytics data."})}):l.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 font-medium",children:e.eventType}),(0,a.jsx)("td",{className:"px-4 py-3 text-gray-600",children:new Date(e.timestamp).toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 text-gray-600",children:e.properties?JSON.stringify(e.properties).substring(0,50):"-"})]},t))})]})})]})]})})}},3149:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2911),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:h="",children:m,...x}=s;return(0,a.createElement)("svg",{ref:r,...l,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(n(e)),h].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},7873:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3149).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}},function(e){e.O(0,[327,985,744],function(){return e(e.s=8954)}),_N_E=e.O()}]);